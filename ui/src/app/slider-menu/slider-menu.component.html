<<<<<<< HEAD
<div class="showSlider" *ngIf="!sliderAddNewState">
  <button mat-mini-fab color="primary" aria-label="hide" (click)="hideComponent()" class="closeBtn">
    <mat-icon>close</mat-icon>
  </button>
  <div class="showInfo" *ngIf="lesson">
    <mat-form-field appearance="fill">
      <mat-label>{{ lesson.subject.nameOfSubject }}</mat-label>
      <mat-select required #subject>
        <mat-option [value]="subject" *ngFor="let subject of subjects">{{ subject.nameOfSubject }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ lesson.room.room }}</mat-label>
      <mat-select required #room>
        <mat-option [value]="room" *ngFor="let room of rooms">{{ room.room }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ lesson.group.name }}</mat-label>
      <mat-select required #group>
        <mat-option [value]="group" *ngFor="let group of groups">{{ group.name }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ lesson.lecturer.firstName }} {{ lesson.lecturer.lastName }}</mat-label>
      <mat-select required #lecturer>
        <mat-option [value]="lecturer" *ngFor="let lecturer of lecturers"
          >{{ lecturer.firstName }} {{ lecturer.lastName }}</mat-option
        >
      </mat-select>
    </mat-form-field>

    <mat-form-field class="datepicker">
      <mat-label>{{ lesson.startAt.format('YYYY-MM-DD') }}</mat-label>
      <input matInput [matDatepickerFilter]="dateFilter" [matDatepicker]="dateFrom" required />
      <mat-datepicker-toggle matSuffix [for]="dateFrom"></mat-datepicker-toggle>
      <mat-datepicker #dateFrom startView="year"></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="datepicker">
      <mat-label>{{ lesson.endAt.format('YYYY-MM-DD') }}</mat-label>
      <input matInput [matDatepickerFilter]="dateFilter" [matDatepicker]="dateTo" required />
      <mat-datepicker-toggle matSuffix [for]="dateTo"></mat-datepicker-toggle>
      <mat-datepicker #dateTo startView="year"></mat-datepicker>
    </mat-form-field>

    <input matInput type="time" class="time" #timeFrom [value]="lesson.startAt.format('HH:mm')" />
    <input matInput type="time" class="time" #timeTo [value]="lesson.endAt.format('HH:mm')" />

    <button
      mat-raised-button
      color="primary"
      class="btn btn-r"
      (click)="
        updateLesson(
          subject.value,
          room.value,
          lecturer.value,
          group.value,
          dateFrom.startAt,
          dateTo.startAt,
          timeFrom.value,
          timeTo.value
        )
      "
    >
      Change
    </button>
    <button mat-raised-button color="warn" class="btn" (click)="deleteLesson()">
      Delete
    </button>
  </div>
</div>

<!--------------------------------------------------Add New Lesson---------------------------------->

<div class="showSlider" *ngIf="sliderAddNewState">
  <button mat-mini-fab color="primary" aria-label="hide" (click)="hideComponent()" class="closeBtn">
    <mat-icon>close</mat-icon>
  </button>
  <form
    class="showInfo"
    [formGroup]="addNewForm"
    autocomplete="off"
    novalidate
    (ngSubmit)="addNewLesson(addNewForm.value)"
  >
    <mat-form-field appearance="fill">
      <mat-label>Subject</mat-label>
      <mat-select required #subject formControlName="subjectFormControl">
        <mat-option [value]="subject" *ngFor="let subject of subjects">{{ subject.nameOfSubject }}</mat-option>
      </mat-select>
      <mat-error *ngIf="hasError('subjectFormControl', 'required')">
        {{ showRequiredErrorMessage('Subject') }}</mat-error
      >
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Room</mat-label>
      <mat-select required #room formControlName="roomFormControl">
        <mat-option [value]="room" *ngFor="let room of rooms">{{ room.room }}</mat-option>
      </mat-select>
      <mat-error *ngIf="hasError('roomFormControl', 'required')">{{ showRequiredErrorMessage('Room') }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Group</mat-label>
      <mat-select required #group formControlName="groupFormControl">
        <mat-option [value]="group" *ngFor="let group of groups">{{ group.name }}</mat-option>
      </mat-select>
      <mat-error *ngIf="hasError('groupFormControl', 'required')">{{ showRequiredErrorMessage('Group') }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Lecturer</mat-label>
      <mat-select required #lecturer formControlName="lecturerFormControl">
        <mat-option [value]="lecturer" *ngFor="let lecturer of lecturers"
          >{{ lecturer.firstName }} {{ lecturer.lastName }}</mat-option
        >
      </mat-select>
      <mat-error *ngIf="hasError('lecturerFormControl', 'required')">{{
        showRequiredErrorMessage('Lecturer')
      }}</mat-error>
    </mat-form-field>

    <mat-form-field class="datepicker">
      <mat-label>Start date</mat-label>
      <input
        matInput
        [matDatepickerFilter]="dateFilter"
        [matDatepicker]="dateFrom"
        required
        formControlName="startDateFormControl"
      />
      <mat-datepicker-toggle matSuffix [for]="dateFrom"></mat-datepicker-toggle>
      <mat-datepicker #dateFrom startView="year"></mat-datepicker>
      <mat-error *ngIf="hasError('startDateFormControl', 'required')">{{
        showRequiredErrorMessage('Start Date')
      }}</mat-error>
    </mat-form-field>

    <mat-form-field class="datepicker">
      <mat-label>End date</mat-label>
      <input
        matInput
        [matDatepickerFilter]="dateFilter"
        [matDatepicker]="dateTo"
        required
        formControlName="endDateFormControl"
      />
      <mat-datepicker-toggle matSuffix [for]="dateTo"></mat-datepicker-toggle>
      <mat-datepicker #dateTo startView="year"></mat-datepicker>
      <mat-error *ngIf="hasError('endDateFormControl', 'required')">{{
        showRequiredErrorMessage('End Date')
      }}</mat-error>
    </mat-form-field>
    <mat-form-field class="time">
      <input matInput type="time" #timeFrom formControlName="startTimeFormControl" />
      <mat-error *ngIf="hasError('startTimeFormControl', 'required')">{{
        showRequiredErrorMessage('Start time')
      }}</mat-error>
    </mat-form-field>
    <mat-form-field class="time">
      <input matInput type="time" #timeTo formControlName="endTimeFormControl" />
      <mat-error *ngIf="hasError('endTimeFormControl', 'required')">{{
        showRequiredErrorMessage('End time')
      }}</mat-error>
    </mat-form-field>
    <mat-card-actions class="btnCard">
      <button mat-raised-button color="primary" [disabled]="!addNewForm.valid" class="btn btn-r">
        Create
      </button>
      <button type="button" mat-raised-button color="warn" (click)="onCancel()" class="btn">
        Cancel
      </button>
    </mat-card-actions>
=======
<div *ngIf="!sliderAddNewState" class="showSlider">
  <form *ngIf="lesson" class="showInfo">
    <button type="button" class="hide" (click)="hide()">x</button>

    <div class="form-control">
      <select class="form-control" name="nameOfSubject" [(ngModel)]="lesson.subject">
        <option [ngValue]="lesson.subject" disabled>
          {{ lesson.subject.nameOfSubject }}
        </option>
        <option *ngFor="let subject of subjects" [ngValue]="subject">
          {{ subject.nameOfSubject }}
        </option>
      </select>
    </div>

    <div class="form-control">
      <select class="form-control" name="room" [(ngModel)]="lesson.room">
        <option [ngValue]="lesson.room" disabled>
          {{ lesson.room.room }}
        </option>
        <option *ngFor="let room of rooms" [ngValue]="room">
          {{ room.room }}
        </option>
      </select>
    </div>
    <div class="form-control">
      <input
        type="date"
        id="from"
        name="from"
        [value]="lesson.startAt.format('YYYY-MM-DD')"
        (keyup.enter)="changeStartDate($event.target.value)"
      />
      <input
        type="date"
        id="to"
        name="to"
        [value]="lesson.endAt.format('YYYY-MM-DD')"
        (keyup.enter)="changeEndDate($event.target.value)"
      />
    </div>
    <div class="form-control">
      <input
        type="time"
        id="timeFrom"
        name="timeFrom"
        [value]="lesson.startAt.format('hh:mm')"
        (keyup.enter)="changeStartTime($event.target.value)"
      />
      <input
        type="time"
        id="timeTo"
        name="timeTo"
        [value]="lesson.endAt.format('hh:mm')"
        (keyup.enter)="changeEndTime($event.target.value)"
      />
    </div>
    <div class="form-control">
      <select
        *ngFor="let lecturer of lesson.lecturers; let i = index"
        class="form-control"
        [name]="'nameOfLecturer' + i"
        [(ngModel)]="lesson.lecturers[i]"
      >
        <option [ngValue]="lecturer" disabled> {{ lecturer.firstName }} {{ lecturer.lastName }} </option>
        <option *ngFor="let lecturer of lecturers" [ngValue]="lecturer">
          {{ lecturer.firstName }} {{ lecturer.lastName }}
        </option>
      </select>
      <button type="button" class="plus">+</button>
    </div>

    <div class="form-control">
      <select
        *ngFor="let group of lesson.groups; let i = index"
        class="form-control"
        [name]="'nameOfGroup' + i"
        [(ngModel)]="lesson.groups[i]"
      >
        <option [ngValue]="group" disabled> {{ group.name }} </option>
        <option *ngFor="let group of groups" [ngValue]="group">
          {{ group.name }}
        </option>
      </select>
      <button type="button" class="plus">+</button>
    </div>
    <button type="button" id="delete" (click)="deleteLesson()">Delete</button>
    <button type="button" id="save" (click)="saveLesson()">Save</button>
  </form>
</div>
<!--------------------------------------------------add---------------------------------->
<div *ngIf="sliderAddNewState">
  <form class="showInfo">
    <button type="button" class="hide" (click)="hide()">x</button>

    <div class="form-control">
      <select class="form-control" name="nameOfSubject" [(ngModel)]="addSubject">
        <option *ngFor="let subject of subjects" [ngValue]="subject">
          {{ subject.nameOfSubject }}
        </option>
      </select>
    </div>

    <div class="form-control">
      <select class="form-control" name="room" [(ngModel)]="addRoom">
        <option *ngFor="let room of rooms" [ngValue]="room">
          {{ room.room }}
        </option>
      </select>
    </div>
    <div class="form-control">
      <input type="date" id="from" name="from" [value]="" [(ngModel)]="addFrom" />
      <input type="date" id="to" name="to" [value]="" [(ngModel)]="addTo" />
    </div>
    <div class="form-control">
      <input type="time" id="timeFrom" name="timeFrom" [value]="" [(ngModel)]="addTimeFrom" />
      <input type="time" id="timeTo" name="timeTo" [value]="" [(ngModel)]="addTimeTo" />
    </div>
    <div class="form-control">
      <select class="form-control" name="nameOfLecturer" [(ngModel)]="addLecturer">
        <option *ngFor="let lecturer of lecturers" [ngValue]="lecturer">
          {{ lecturer.firstName }} {{ lecturer.lastName }}
        </option>
      </select>
      <button type="button" class="plus">+</button>
    </div>

    <div class="form-control">
      <select class="form-control" name="nameOfGroup" [(ngModel)]="addGroup">
        <option *ngFor="let group of groups" [ngValue]="group">
          {{ group.name }}
        </option>
      </select>
      <button type="button" class="plus">+</button>
    </div>
    <button
      type="button"
      id="save"
      (click)="addNewLesson(addSubject, addRoom, addFrom, addTimeFrom, addTo, addTimeTo, [addLecturer], [addGroup])"
    >
      Add
    </button>
>>>>>>> d8b4b4c0e6f7106fb7300ca14f37fe09382ee674
  </form>
</div>
